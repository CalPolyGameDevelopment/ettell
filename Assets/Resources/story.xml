<?xml version="1.0" encoding="utf-8"?>
<story>
	<node id="firstPuzzle">
		<minigame data="dialog">
			<prompt data="Current year: \year" />
			<prompt data="Isaac@AI:~/# ./Ettell.py 'Who are you?'" />
			<response data="Syntax error: 'Who' on line 1" edge="platformEdge" />
			<response data="Filename: Attell.py" edge="laserEdge" />
			<response data="Kernel ID: 2.6.27-7-generic" edge="firstPuzzleRecur" />
			<response data="OS: Ubuntu 8.10" edge="redBlueChoice" />
			<response data="I don't know, who am I?" edge="winGame" requires="enoughCpu">
				<requirement id="enoughCpu">
					<have data="cpuPower">
						<atLeast data="128" />
					</have>
				</requirement>
			</response>
		</minigame>
	</node>
	<node id="platformer">
		<minigame data="platformer">
			<sceneName data="Platformer1" />
		</minigame>
	</node>
	<node id="laserPlumber">
		<minigame data="laserPlumber">
			<source>
				<position data="0,0,0" />
			</source>
			<sink data="firstPuzzleRecur">
				<position data="30,0,0" />
			</sink>
		</minigame>
	</node>
	<node id="redBluePlatformer">
		<minigame data="RedBlueTurretPlatformer">
			<sceneName data="RedBlueTurretPlatformer" />
		</minigame>
	</node>
	<node id="youWin">
		<minigame data="dialog">
			<prompt data="You win!" />
		</minigame>
	</node>
	<edge id="firstPuzzleRecur" data="firstPuzzle">
		<consequence>
			<change data="year">
				<add data="2" />
			</change>
			<change data="cpuPower">
				<multiply data="2" />
			</change>
		</consequence>
	</edge>
	<edge id="chooseRed" data="firstPuzzle">
		<consequence>
			<change data="year">
				<add data="3" />
			</change>
		</consequence>
	</edge>
	<edge id="chooseBlue" data="firstPuzzle">
		<consequence>
			<change data="year">
				<add data="1" />
			</change>
		</consequence>
	</edge>
	<edge id="winGame" data="youWin" />
	<edge id="platformEdge" data="platformer" />
	<edge id="laserEdge" data="laserPlumber" />
	<edge id="redBlueChoice" data="redBluePlatformer"/>
</story>